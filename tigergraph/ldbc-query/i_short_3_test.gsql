use graph ldbc
drop query i_short_3_test

create query i_short_3_test(VERTEX v, STRING filepath) for graph ldbc {
    FILE f(filepath);
    SumAccum<String> @creationDate;
//    V = {v};
	V = {person.*};
	VPerson = {person.*};
//	Print VPerson.id;
    VPerson =  SELECT tgt
                FROM V:s-(person_knows_person)->:tgt;
//                ACCUM tgt.@creationDate = person_knows_person.creationDate;
    VPerson =  SELECT s
                FROM VPerson:s-(person_knows_person)->:tgt;

    f.println("id","firstName","lastName","creationDate");
    Print VPerson.id;
    Print V.id;
    VPerson =   SELECT t FROM VPerson:t
                POST-ACCUM f.println(t.id, t.firstName,t.lastName,t.@creationDate);
 
}
install query i_short_3_test
